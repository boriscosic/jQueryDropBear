(function(e){e.fn.dropbear=function(f){var h={showTrigger:"click",hideTrigger:"mouseout",fnHide:null,position:"absolute",linkTitle:"Select"};var g=e.extend(h,f);return this.each(function(){var l=e(this).attr("href");e(this).addClass("dropbear");if(e(l).length>0){e(l).css({padding:"0",margin:"0"});e(l).hide();e(this).bind(g.showTrigger,d);e(this).bind(g.hideTrigger,c);e(l).mouseenter(function(){e(this).addClass("dropbearselected")}).mouseleave(function(){a(g.fnHide,e(this));b(e(this))})}else{if(e(this).is("select")){e(this).hide();var n=Math.round((new Date()).getTime()/1000);var i=e('<ul style="padding:0;margin:0;" class="dropbear-select-wrapper"></ul>');var m=e('<a href="#'+e(this).attr("id")+"-"+n+'" onclick="return false;" class="dropbear">'+g.linkTitle+"</a>");m.bind(g.showTrigger,d);m.bind(g.hideTrigger,c);i.append(m);var o=e('<ul id="'+e(this).attr("id")+"-"+n+'" style="padding:0;margin:0;display:none;position:'+g.position+'"></ul>');o.mouseenter(function(){e(this).addClass("dropbearselected")}).mouseleave(function(){a(g.fnHide,e(this));b(e(this))});var k=e(this);var j=0;e(this).find("option").each(function(){var p=k.attr("multiple");var r=e("<li></li>");var q=e('<input type="'+((typeof p!=="undefined"&&p!==false)?"checkbox":"radio")+'" name="'+((typeof p!=="undefined"&&p!==false)?k.attr("name")+"-"+j:k.attr("name"))+'" value="'+e(this).val()+'" /> ');r.append(q);r.append(e(this).text());o.append(r);j++});i.append(o);i.insertAfter(e(this))}}})};function d(){e(this).addClass("hover");var f=e(this).attr("href");e(f).show();return false}function c(){var f=e(this).attr("href");setTimeout(function(){if(!e(f).hasClass("dropbearselected")){b(f)}},150)}function b(f){e(f).removeClass("dropbearselected");e(f).parent().find("a").removeClass("hover");e(f).hide()}function a(f,g){b(g);if(typeof f=="function"){var h=e("input").map(function(){if(e(this).attr("type")=="checkbox"&&e(this).attr("checked")){return e(this).val()}}).get().join(";");f.apply(g,[h])}}})(jQuery);